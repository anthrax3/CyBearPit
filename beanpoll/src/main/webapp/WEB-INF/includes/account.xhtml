<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:b="http://bootsfaces.net/ui"
             xmlns:f="http://xmlns.jcp.org/jsf/core"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:ui="http://java.sun.com/jsf/facelets">

    <!-- Update account settings -->
    <b:panel title="Change Username" iconAwesome="user" look="info">
        <h:form>
            <b:panelGrid colSpans="2,6,4" size="sm">
                <h:outputLabel value="Username:"/>
                <b:inputText value="#{sessionUser.name}" id="username" class="form-control">
                    <f:facet name="prepend"><b:icon name="user"/></f:facet>
                </b:inputText>
                <b:commandButton value="Change Username" look="warning" iconAwesome="retweet"
                                 action="#{userController.update(sessionUser)}"/>
            </b:panelGrid>
        </h:form>
    </b:panel>
    <b:panel title="Change Password" iconAwesome="key" look="info">
        <h:form>
            <b:panelGrid colSpans="2,6,4" size="sm">
                <h:outputLabel value="Current Password:"/>
                <b:inputSecret value="#{sessionBean.password}" id="password" class="form-control">
                    <f:facet name="prepend"><b:iconAwesome name="key"/></f:facet>
                </b:inputSecret>
                <h:outputText value=""/>
                <h:outputLabel value="New Password:"/>
                <b:inputSecret value="#{sessionBean.newPassword}" id="newPassword" class="form-control">
                    <f:facet name="prepend"><b:iconAwesome name="key"/></f:facet>
                </b:inputSecret>
                <b:commandButton value="Change Password" look="warning" iconAwesome="retweet"
                                 action="#{userController.changePassword(sessionUser, sessionBean.password, sessionBean.newPassword)}"/>
            </b:panelGrid>
        </h:form>
    </b:panel>

    <!-- End session -->
    <b:panel title="Log Out" icon="log-out" look="warning">
        <h:form>
            <b:commandButton value="Log Out" action="#{sessionBean.logOut()}"
                             icon="log-out" look="warning" />
        </h:form>
    </b:panel>

    <!-- Delete account -->
    <b:panel title="Delete Account" iconAwesome="trash" look="danger" collapsed="#{true}">
        <h:form>
            <b:panelGrid colSpans="9,3">
                <h:outputText value=""/>
                <b:commandButton value="Delete Account" action="#{userController.delete(sessionUser)}"
                                 iconAwesome="trash" look="danger" />
            </b:panelGrid>
        </h:form>
    </b:panel>
</ui:fragment>