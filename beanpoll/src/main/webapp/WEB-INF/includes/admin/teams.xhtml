<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:b="http://bootsfaces.net/ui"
             xmlns:c="http://java.sun.com/jsp/jstl/core"
             xmlns:f="http://xmlns.jcp.org/jsf/core"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:ui="http://java.sun.com/jsf/facelets">

    <!-- Option to create a new team -->
    <b:panel title="Create a New Team" look="info" collapsed="#{true}"><h:form>
        <b:panelGrid colSpans="2,6,4" size="sm">
            <h:outputLabel value="Contest:" for="ncontest"/>
            <b:selectOneMenu value="#{newTeam.contest}" id="ncontest">
                <f:facet name="prepend"><b:iconAwesome name="trophy"/></f:facet>
                <f:selectItems value="#{contests}" var="_ncontest"
                               itemLabel="#{_ncontest.name}" itemValue="#{_ncontest}"/>
            </b:selectOneMenu>
            <h:outputText value=""/>
            <h:outputLabel value="Name:" for="nname"/>
            <b:inputText value="#{newTeam.name}" id="nname" class="form-control">
                <f:facet name="prepend"><b:iconAwesome name="check"/></f:facet>
            </b:inputText>
            <h:outputText value=""/>
            <h:outputLabel value="Flag:" for="nflag"/>
            <b:inputText value="#{newTeam.flag}" id="nflag"/>
            <b:commandButton action="#{teamController.create()}" value="Create" look="success"/>
        </b:panelGrid>
    </h:form></b:panel>

    <!-- Existing teams, grouped by contest -->
    <c:forEach var="_team" items="#{teams}">
        <b:panel title="#{_team.displayName} - #{_team.score}" collapsed="#{true}">

            <!-- Team settings -->
            <b:panel title="Settings" collapsed="#{true}"><h:form>
                <b:panelGrid colSpans="2,6,4" size="sm">
                    <h:outputLabel value="Contest:" for="contest"/>
                    <b:selectOneMenu value="#{_team.contest}" id="contest">
                        <f:facet name="prepend"><b:iconAwesome name="trophy"/></f:facet>
                        <f:selectItems value="#{contests}" var="_contest"
                                       itemLabel="#{_contest.name}" itemValue="#{_contest}"/>
                    </b:selectOneMenu>
                    <h:outputText value=""/>
                    <h:outputLabel value="Name:" for="name"/>
                    <b:inputText value="#{_team.name}" id="name" class="form-control">
                        <f:facet name="prepend"><b:iconAwesome name="server"/></f:facet>
                    </b:inputText>
                    <h:outputText value=""/>
                    <h:outputLabel value="Flag:" for="flag"/>
                    <b:inputText value="#{_team.flag}" id="flag"/>
                    <b:commandButton action="#{teamController.update(_team)}" value="Update" look="info"/>
                </b:panelGrid>
                <b:panelGrid colSpans="10,2" size="sm">
                    <h:outputLabel value=""/>
                    <b:commandButton action="#{teamController.delete(_team)}"
                                     value="Delete" look="danger"/>
                </b:panelGrid>
            </h:form></b:panel>
        </b:panel>
    </c:forEach>
</ui:fragment>